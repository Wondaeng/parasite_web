<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ATS - Results</title>

    
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <link href="{{ url_for('static', filename='css/result.css') }}" rel="stylesheet">
    <script>
        function imshow(_src){
            document.getElementById("image_show").src = _src 
        }

        function change_order(){
            var target = document.getElementById("order");
            if (target.options[target.selectedIndex].value == "name"){
                document.getElementById("thumbnail_box_name").style.display = "block";
                document.getElementById("thumbnail_box_bbox").style.display = "none";
                document.getElementById("thumbnail_box_conf").style.display = "none";
                document.getElementById("image_show").src =""
            } else if (target.options[target.selectedIndex].value == "#bbox"){
                document.getElementById("thumbnail_box_name").style.display = "none";
                document.getElementById("thumbnail_box_bbox").style.display = "block";
                document.getElementById("thumbnail_box_conf").style.display = "none";
                document.getElementById("image_show").src =""
            } else {
                document.getElementById("thumbnail_box_name").style.display = "none";
                document.getElementById("thumbnail_box_bbox").style.display = "none";
                document.getElementById("thumbnail_box_conf").style.display = "block";
                document.getElementById("image_show").src =""
            }
        }
    </script>

</head>

<body>
    <nav>
        <label class="logo">Automated Trypanosomiasis Screening</label>
        <ul>
            <li><a href="/">Home</a></li>
            
            {% if g.user %}
                <li><a href="/results">Results</a></li>
            {% else %}
                <li><a href="/search">Search</a></li>
            {% endif %}
    
            <li><a href="/help">Help</a></li>
    
            {% if g.user %}
                <li><a href="/logout">Logout</a></li>
            {% else %}
                <li><a href="/login">Login</a></li>
            {% endif %}
        </ul>
    </nav>
    <div style="padding-top:80px;">
        <div style="text-align: center;">
            {% for message in get_flashed_messages() %}
            <div class="alert alert-warning" role="alert">
                {{ message }}
            </div>
            {% endfor %}
            <h1 style="display: block;">Inference Results of Video: {{video_name}}</h1>
        </div>
        <div id="filter_box">
            <span>Order by: </span>
            <select id="order" name="order" onchange="change_order()">
                <option value="name">name</option>
                <option value="confidence">confidence</option>
                <option value="#bbox">#bbox</option>
            </select>
        </div>
        
        <div class="thumbnail_container">

            <div class="thumbnail_item thumbnail_box" id="thumbnail_box_name">
                {% for url in url_lst %}
                <img class="result_thumbnail round" src="{{ url_for('static', filename=url) }}" onclick='imshow(this.src)'/>
                {% endfor %}
            </div>

            <div class="thumbnail_item thumbnail_box" id="thumbnail_box_bbox">
                {% for url in url_lst_bbox %}
                <img class="result_thumbnail round" src="{{ url_for('static', filename=url) }}" onclick='imshow(this.src)'/>
                {% endfor %}
            </div>

            <div class="thumbnail_item thumbnail_box" id="thumbnail_box_conf">
                {% for url in url_lst_conf %}
                <img class="result_thumbnail round" src="{{ url_for('static', filename=url) }}" onclick='imshow(this.src)'/>
                {% endfor %}
            </div>
        
            <div class="thumbnail_item imshow_box" >
                <img id="image_show"/>
            </div>
            
        </div>

    </div>

</body>

</html>